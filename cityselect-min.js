YUI.add("trip-oCitySelect",function(b){b.namespace("Cityselect");var a=function(){var i=this;this.attach=function(n,p,o){i.province=b.one(n);i.city=b.one(p);i.area=b.one(o)};this.initdata=function(n){i.data=n};this.initselection=function(n){if(b.Lang.isArray(n)&&n[0].indexOf("0")==-1){for(var o=0;o<n.length;o++){var p=c(k(n[o-1]));n[o]=l(n[o],p);if(!n[o]){n=n.slice(0,o);break}}}if(b.Lang.isArray(n)&&n.length>0){h(i.province,n[0]);h(i.city,n[1]);h(i.area,n[2]);if(n.length==1){e()}if(n.length==2){j()}}else{if(n){b.Lang.isString(n)&&(n=l(n));h(i.province,n);e()}else{h(i.province,1);e()}}i.province.on("change",e);i.city.on("change",j)};var e=function(){!this._node&&(this._node=i.province._node);var o=this._node.options[this._node.selectedIndex].value;var n=k(o);g(i.city);g(i.area);d(i.city,n)};var j=function(){!this._node&&(this._node=i.city._node);var o=this._node.options[this._node.selectedIndex].value;var n=k(o);g(i.area);d(i.area,n)};var c=function(o){var n={};if(!o){return i.data}for(var p=0;p<o.length;p++){if(o.hasOwnProperty(p)){n[o[p]]=i.data[o[p]]}}return n};var l=function(p,o){var o=o||i.data;if(i.strdata={}){for(var n in o){if(o.hasOwnProperty(n)){i.strdata[o[n][0]]=n}}}return i.strdata[p]||null};var k=function(o){var p=i.data;if(!i.subdata&&(i.subdata={})){for(var n in p){if(p.hasOwnProperty(n)){if(!i.subdata[p[n][1]]){i.subdata[p[n][1]]=[]}i.subdata[p[n][1]].push(n)}}}return i.subdata[o]};var f=function(n){if(!i.data[n]){return 1}return i.data[n][1]};var g=function(p){var p=p._node;var n=p.options;for(var o=n.length-1;o>0;o--){p.remove(o)}};var h=function(p,o){g(p);if(typeof(o)!="undefined"){var n=f(o);var q=k(n);d(p,q);m(p,o)}};var d=function(p,n){var p=p._node;if(!n){return}for(var o=0;o<n.length;o++){var r=i.data[n[o]][0];var q=n[o];p.options.add(new Option(r,q))}};var m=function(q,p){var q=q._node;var n=q.options;for(var o=n.length-1;o>0;o--){if(!(n[o].value-p)){n[o].selected=true}}};this.initdata.apply(this,arguments)};b.Cityselect=a},"0.0.1",{requires:["node"]});
